(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{11:function(e,t,n){e.exports={content:"ingredient-details_content__WdJuD",title:"ingredient-details_title__2_5MB",nutritionList:"ingredient-details_nutritionList__DAsCb",nutritionItem:"ingredient-details_nutritionItem__2gVZu",image:"ingredient-details_image__H2-xP"}},12:function(e,t,n){e.exports={constructor:"burger-constructor_constructor__2Wifa",partsList:"burger-constructor_partsList__2GfdN",partsListScroll:"burger-constructor_partsListScroll__3TU4m",part:"burger-constructor_part__2Co_b",order:"burger-constructor_order__z_yls"}},156:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(22),r=n.n(i),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,157)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))},o=(n(74),n(7)),l=n(44),d=n.n(l),j=n(66),u=n(67),m=new(function(){function e(t){var n=t.baseUrl;Object(j.a)(this,e),this._baseUrl=n,this._headers={"Content-Type":"application/json"}}return Object(u.a)(e,[{key:"_getResponceData",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getIngredients",value:function(){return fetch(this._baseUrl+"ingredients",{method:"GET",headers:this._headers}).then(this._getResponceData)}}]),e}())({baseUrl:"https://norma.nomoreparties.space/api/"}),b=n(17),p=n.n(b),_=n(4),x=n(23),O=n.n(x),h=n(0);var f=function(e){var t=e.icon,n=e.active,c=e.children,a=e.onClick;return Object(h.jsxs)("a",{href:"#",className:n?"pl-5 pr-5 ".concat(O.a.link," ").concat(O.a.link_active):"pl-5 pr-5 ".concat(O.a.link),onClick:a,children:[t,Object(h.jsx)("p",{className:"text text_type_main-default ml-2",children:c})]})},g=function(){var e=Object(c.useState)("constructor"),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(h.jsx)("header",{className:"pt-4 pb-4 ".concat(p.a.header),children:Object(h.jsxs)("nav",{className:p.a.navigation,children:[Object(h.jsxs)("ul",{className:p.a.list,children:[Object(h.jsx)("li",{className:"mr-2",children:Object(h.jsx)(f,{icon:Object(h.jsx)(_.BurgerIcon,{type:"constructor"===n?"primary":"secondary"}),active:"constructor"===n,onClick:function(){return a("constructor")},children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})}),Object(h.jsx)("li",{children:Object(h.jsx)(f,{icon:Object(h.jsx)(_.ListIcon,{type:"orderList"===n?"primary":"secondary"}),active:"orderList"===n,onClick:function(){return a("orderList")},children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})})]}),Object(h.jsx)("a",{href:"#",className:p.a.logoWrapper,children:Object(h.jsx)(_.Logo,{})}),Object(h.jsx)("div",{className:p.a.profileLinkWrapper,children:Object(h.jsx)(f,{icon:Object(h.jsx)(_.ProfileIcon,{type:"profile"===n?"primary":"secondary"}),active:"profile"===n,onClick:function(){return a("profile")},children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})})]})})},y=n(18),v=n.n(y),N=n(24),k=n(68),C=n.n(k),I=n(5),L=n.n(I),M=n(45),S=n.n(M);L.a.string,L.a.string,L.a.string,L.a.number,L.a.number,L.a.number,L.a.number,L.a.number,L.a.string,L.a.string,L.a.string,L.a.number;var D=function(e){var t=e.ingredient,n=e.openModal;return Object(h.jsxs)("li",{className:S.a.ingredient,onClick:function(){return n(t)},children:[Object(h.jsx)(_.Counter,{count:1,size:"default"}),Object(h.jsx)("img",{src:t.image,alt:t.name,className:"ml-4 mr-4"}),Object(h.jsxs)("div",{className:"mt-2 mb-2 ".concat(S.a.priceContainer),children:[Object(h.jsx)("p",{className:"text text_type_digits-default pr-2",children:t.price}),Object(h.jsx)(_.CurrencyIcon,{type:"primary"})]}),Object(h.jsx)("p",{className:"text text_type_main-default",children:t.name})]})},E=Object(c.forwardRef)((function(e,t){var n=e.id,c=e.title,a=e.ingredients,i=e.openModal;return Object(h.jsxs)("li",{ref:t,id:n,children:[Object(h.jsx)("h2",{className:"text text_type_main-medium mt-10 mb-6",children:c}),Object(h.jsx)("ul",{className:"ml-4 ".concat(C.a.list),children:a.map((function(e){return Object(h.jsx)(D,{ingredient:e,openModal:i},e._id)}))})]})}));E.propTypes={id:L.a.string.isRequired,title:L.a.string.isRequired,ingredients:L.a.array.isRequired,openModal:L.a.func.isRequired};var B=E,T={threshold:.1,trackVisibility:!0,delay:100};var F=function(e){var t=e.ingredientsData,n=e.openModal,a=Object(c.useMemo)((function(){return t.filter((function(e){return"bun"===e.type}))}),[t]),i=Object(c.useMemo)((function(){return t.filter((function(e){return"sauce"===e.type}))}),[t]),r=Object(c.useMemo)((function(){return t.filter((function(e){return"main"===e.type}))}),[t]),s=Object(c.useState)("bun"),l=Object(o.a)(s,2),d=l[0],j=l[1],u=function(e){j(e),document.getElementById(e).scrollIntoView()},m=Object(N.a)(T),b=Object(o.a)(m,2),p=b[0],x=b[1],O=Object(N.a)(T),f=Object(o.a)(O,2),g=f[0],y=f[1],k=Object(N.a)(T),C=Object(o.a)(k,2),I=C[0],L=C[1];return Object(c.useEffect)((function(){x?j("bun"):L?j("sauce"):y&&j("main")}),[x,y,L]),Object(h.jsxs)("section",{className:"mt-10 ml-5 ".concat(v.a.constructor),children:[Object(h.jsx)("h1",{className:"text text_type_main-large ".concat(v.a.title),children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(h.jsxs)("div",{className:"mt-5 ".concat(v.a.tab),children:[Object(h.jsx)(_.Tab,{value:"bun",active:"bun"===d,onClick:u,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(h.jsx)(_.Tab,{value:"sauce",active:"sauce"===d,onClick:u,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(h.jsx)(_.Tab,{value:"main",active:"main"===d,onClick:u,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(h.jsxs)("ul",{className:" ".concat(v.a.ingredients),children:[Object(h.jsx)(B,{id:"bun",title:"\u0411\u0443\u043b\u043a\u0438",ingredients:a,openModal:n,ref:p}),Object(h.jsx)(B,{id:"sauce",title:"\u0421\u043e\u0443\u0441\u044b",ingredients:i,openModal:n,ref:I}),Object(h.jsx)(B,{id:"main",title:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",ingredients:r,openModal:n,ref:g})]})]})},W=n(12),q=n.n(W);var w=function(e){var t=e.ingredientsData,n=e.openModal,a=t[0],i=Object(c.useMemo)((function(){return t.filter((function(e){return"bun"!==e.type}))}),[t]);return Object(h.jsxs)("section",{className:"mr-5 pl-4 ".concat(q.a.constructor),"aria-label":"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u0431\u0443\u0440\u0433\u0435\u0440\u0430",children:[Object(h.jsxs)("ul",{className:"mt-25 ".concat(q.a.partsList),children:[Object(h.jsx)("li",{className:"mr-4 ".concat(q.a.part),children:Object(h.jsx)(_.ConstructorElement,{isLocked:!0,type:"top",text:"".concat(a?a.name:"\u0431\u0443\u043b\u043a\u0430"," (\u0432\u0435\u0440\u0445)"),price:a?a.price:0,thumbnail:a?a.image:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"})}),Object(h.jsx)("li",{children:Object(h.jsx)("ul",{className:"mt-4 mb-4 ".concat(q.a.partsListScroll),children:i?i.map((function(e,t){return Object(h.jsxs)("li",{className:"mr-2 ".concat(q.a.part),children:[Object(h.jsx)(_.DragIcon,{type:"primary"}),Object(h.jsx)(_.ConstructorElement,{text:e.name,price:e.price,thumbnail:e.image})]},e._id+t)})):null})}),Object(h.jsx)("li",{className:"mr-4 ".concat(q.a.part),children:Object(h.jsx)(_.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(a?a.name:"\u0431\u0443\u043b\u043a\u0430"," (\u043d\u0438\u0437)"),price:a?a.price:0,thumbnail:a?a.image:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"})})]}),Object(h.jsxs)("div",{className:"mt-10 mr-4 ".concat(q.a.order),children:[Object(h.jsx)("p",{className:"text text_type_digits-medium",children:"610"}),Object(h.jsx)("span",{className:"ml-2 mr-10",children:Object(h.jsx)(_.CurrencyIcon,{type:"primary"})}),Object(h.jsx)(_.Button,{type:"primary",size:"large",onClick:n,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})},R=n(25),P=n.n(R),U=n(69),G=n.n(U),H=function(e){var t=e.closeModal;return Object(h.jsx)("div",{className:G.a.modalOverlay,onClick:t})},Q=function(e){var t=e.closeModal,n=e.children,a=Object(c.useState)(!1),r=Object(o.a)(a,2),s=r[0],l=r[1],d=document.getElementById("root-modal");return Object(c.useEffect)((function(){var e=function(e){"Escape"===e.key&&t()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t]),Object(i.createPortal)(Object(h.jsxs)("div",{className:P.a.popup,children:[Object(h.jsxs)("div",{className:"p-10 pb-15 ".concat(P.a.popupContainer),children:[Object(h.jsx)("button",{onClick:t,className:"mt-15 mr-10 ".concat(P.a.closeButton),onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:Object(h.jsx)(_.CloseIcon,{type:s?"secondary":"primary"})}),n]}),Object(h.jsx)(H,{closeModal:t})]}),d)},z=n(26),J=n.n(z),V=function(){return Object(h.jsxs)("div",{className:J.a.orderDetails,children:[Object(h.jsx)("h2",{className:"text text_type_digits-large mt-20 ".concat(J.a.title),children:"034536"}),Object(h.jsx)("p",{className:"text text_type_main-medium mt-8",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(h.jsx)("div",{className:"mt-15 ".concat(J.a.icon)}),Object(h.jsx)("p",{className:"text text_type_main-default mt-15",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(h.jsx)("p",{className:"text text_type_main-default text_color_inactive mt-2 mb-15",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},X=n(11),Y=n.n(X),Z=function(e){var t=e.ingredient;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"text text_type_main-large mt-3 ".concat(Y.a.title),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(h.jsxs)("div",{className:Y.a.content,children:[Object(h.jsx)("img",{className:"mt-3 ".concat(Y.a.image),alt:t.name,src:t.image_large}),Object(h.jsx)("p",{className:"text text_type_main-medium mt-4 ",children:t.name}),Object(h.jsxs)("ul",{className:"mt-8 ".concat(Y.a.nutritionList),children:[Object(h.jsxs)("li",{className:Y.a.nutritionItem,children:[Object(h.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(h.jsx)("p",{className:"text text text_type_digits-default text_color_inactive",children:t.calories})]}),Object(h.jsxs)("li",{className:Y.a.nutritionItem,children:[Object(h.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(h.jsx)("p",{className:"text text text_type_digits-default text_color_inactive",children:t.proteins})]}),Object(h.jsxs)("li",{className:Y.a.nutritionItem,children:[Object(h.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(h.jsx)("p",{className:"text text text_type_digits-default text_color_inactive",children:t.fat})]}),Object(h.jsxs)("li",{className:Y.a.nutritionItem,children:[Object(h.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(h.jsx)("p",{className:"text text text_type_digits-default text_color_inactive",children:t.carbohydrates})]})]})]})]})},A=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)([]),r=Object(o.a)(i,2),s=r[0],l=r[1],j=Object(c.useState)({}),u=Object(o.a)(j,2),b=u[0],p=u[1],_=Object(c.useState)(!1),x=Object(o.a)(_,2),O=x[0],f=x[1],y=Object(c.useState)(!1),v=Object(o.a)(y,2),N=v[0],k=v[1],C=Object(c.useCallback)((function(){f(!1),k(!1)}),[]);return Object(c.useEffect)((function(){m.getIngredients().then((function(e){l(e.data)})).catch((function(e){a(!0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445: ".concat(e))}))}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(g,{}),n?Object(h.jsx)("main",{children:Object(h.jsxs)("section",{"aria-label":"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435",children:[Object(h.jsx)("h1",{className:"text text_type_main-large mt-20",children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :("}),Object(h.jsx)("p",{className:"text text_type_main-small ".concat(d.a.errorSubtitle),children:"\u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"})]})}):Object(h.jsxs)("main",{className:d.a.main,children:[Object(h.jsx)(F,{ingredientsData:s,openModal:function(e){k(!0),p(e)}}),Object(h.jsx)(w,{ingredientsData:s,openModal:function(){f(!0)}})]}),O&&Object(h.jsx)(Q,{closeModal:C,children:Object(h.jsx)(V,{})}),N&&Object(h.jsx)(Q,{closeModal:C,children:Object(h.jsx)(Z,{ingredient:b})})]})};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(A,{})}),document.getElementById("root")),s()},17:function(e,t,n){e.exports={header:"app-header_header__1iHLW",navigation:"app-header_navigation__cmFMn",list:"app-header_list__q5yDi",logoWrapper:"app-header_logoWrapper__Dqqib",profileLinkWrapper:"app-header_profileLinkWrapper__2jEjX"}},18:function(e,t,n){e.exports={constructor:"burger-ingredients_constructor__3pgIb",tab:"burger-ingredients_tab__1Ru1Z",ingredients:"burger-ingredients_ingredients__2TY9H"}},23:function(e,t,n){e.exports={link:"header-link_link__FWB-s",link_active:"header-link_link_active__3ICQQ"}},25:function(e,t,n){e.exports={popup:"modal_popup__lnicy",popupContainer:"modal_popupContainer__HIQS7",closeButton:"modal_closeButton__2SoUT"}},26:function(e,t,n){e.exports={orderDetails:"order-details_orderDetails__fTHXE",title:"order-details_title__FoYOr",icon:"order-details_icon__2tGxQ"}},44:function(e,t,n){e.exports={main:"app_main__3yfFw",errorSubtitle:"app_errorSubtitle__12WK2"}},45:function(e,t,n){e.exports={ingredient:"BurgerIngredient_ingredient__21h-F",priceContainer:"BurgerIngredient_priceContainer__3annI"}},68:function(e,t,n){e.exports={list:"IngredientsCategory_list__3qGGy"}},69:function(e,t,n){e.exports={modalOverlay:"modal-overlay_modalOverlay__tfXD-"}},74:function(e,t,n){}},[[156,1,2]]]);
//# sourceMappingURL=main.ade1d7ab.chunk.js.map